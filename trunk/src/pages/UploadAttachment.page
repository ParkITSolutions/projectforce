<apex:page id="Attachment" sidebar="false" showHeader="false" controller="AttachmentController">
    
    <apex:stylesheet value="{!URLFOR($Resource.Overlays, 'inc/css/overlays.css')}" />
	<apex:includeScript value="{!URLFOR($Resource.Lib, 'inc/js/scriptaculous/lib/prototype.js')}" />
	<apex:includeScript value="{!URLFOR($Resource.Lib, 'inc/js/scriptaculous/src/scriptaculous.js')}" />
	
	<apex:includeScript value="{!URLFOR($Resource.Common, 'inc/js/common.js')}" />
	<apex:stylesheet value="{!URLFOR($Resource.Common, 'inc/css/common.css')}" />

    <apex:stylesheet value="{!URLFOR($Resource.NewAttachment, 'inc/css/newAttachment.css')}" />
    <apex:includeScript value="{!URLFOR($Resource.NewAttachment, 'inc/js/newAttachment.js')}" />
    
    <apex:form id="uploadAttachment">
    
        <apex:outputPanel id="Overlay" styleClass="overlay" layout="block">     
            <apex:outputPanel id="ComponentBody" styleClass="componentBody" layout="block">
                <apex:outputText value="Select the file to upload." styleclass="label nonFloat"/>
                <br />
                <apex:inputFile value="{!newAttach.Body}" id="newAttach" styleclass="newAttach" contentType="{!newAttach.ContentType}" 
                    filename="{!newAttach.Name}" fileSize="{!newAttach.BodyLength}" />  

                <apex:outputPanel styleclass="overlaySeparateLine" layout="block"></apex:outputPanel>
    
                <apex:outputPanel styleClass="submitButtons" layout="block">
                    <apex:commandLink id="Accept" styleClass="submitButton Accept" action="{!action}" onclick="parent.promptOverlay.close();parent.swirly.show(); return Attachment.verify();">
                        Accept
                    </apex:commandLink>
                    <apex:outputLink id="Cancel" value="javascript:;" onClick="parent.promptOverlay.close();Attachment.clearForm();" styleClass="submitButton Cancel" >
                        Cancel                  
                    </apex:outputLink>
                </apex:outputPanel>
            </apex:outputPanel>
        </apex:outputPanel>
        
    </apex:form>
    
    <apex:outputPanel id="errors">  
        <apex:outputPanel rendered="{!endAction && error == '' }">
            <script>
                parent.infoToUser.open('success', 'File uploaded.');
                parent.reloadPanelAction();
            </script> 
        </apex:outputPanel>
    
        <apex:outputPanel id="error"  rendered="{!error != ''}">
            <script>
                parent.swirly.hide();
                parent.infoToUser.open('error', '{!error}');
            </script>
        </apex:outputPanel>
    </apex:outputPanel>
     
    <style>
    /*
    	this style class must be generalize for all overlays 
    */
    .overlay .componentBody .label{
        color:#676667;
        float:left;
        font-weight:bold;
        text-align:right;
        width:100px;
    }   
    </style>
    
</apex:page>